<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  .title { text-align: center; font-weight: bold; margin-bottom: 12px; }
  .diagram { width: 100%; max-width: 780px; margin: auto; }
  rect { fill: #eef3fa; stroke: #2f4a73; stroke-width: 1.3; rx: 6; }
  text { font-size: 12px; }
  svg { width: 100%; height: auto; }
</style>
</head>
<body>

<div class="title">Detailed Bank‑Ready On‑Prem AI Architecture</div>

<div class="diagram">
<svg viewBox="0 0 780 980">

  <!-- BANK ENTERPRISE LAYER ------------------------------------------------------->
  <rect x="40" y="20" width="700" height="90" />
  <text x="390" y="50" text-anchor="middle" font-weight="bold">Bank Enterprise Layer</text>
  <text x="390" y="75" text-anchor="middle">Core Banking • Payments • Risk Systems • Customer Channels</text>

  <!-- Arrow -->
  <line x1="390" y1="110" x2="390" y2="145" stroke="black" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- API GATEWAY / ESB -->
  <rect x="200" y="145" width="380" height="70"/>
  <text x="390" y="175" text-anchor="middle" font-weight="bold">API Gateway / ESB</text>
  <text x="390" y="195" text-anchor="middle">Routing • Auth • Throttling • Monitoring</text>

  <!-- Arrow -->
  <line x1="390" y1="215" x2="390" y2="260" stroke="black" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- AI SECURITY + GOVERNANCE LAYER --------------------------------------------->
  <rect x="140" y="260" width="500" height="110"/>
  <text x="390" y="290" text-anchor="middle" font-weight="bold">AI Security & Governance Layer</text>
  <text x="390" y="315" text-anchor="middle">• Prompt Injection Defense</text>
  <text x="390" y="332" text-anchor="middle">• Content Moderation</text>
  <text x="390" y="349" text-anchor="middle">• AI Audit Trail • Explainable AI</text>
  <text x="390" y="366" text-anchor="middle">• Compliance Check (HKMA / GDPR)</text>

  <!-- Arrow -->
  <line x1="390" y1="370" x2="390" y2="410" stroke="black" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- DGX CLUSTER --------------------------------------------------------------->
  <rect x="120" y="410" width="540" height="330"/>
  <text x="390" y="440" text-anchor="middle" font-weight="bold">On‑Prem NVIDIA DGX Spark Cluster (HA)</text>
  <text x="390" y="465" text-anchor="middle">Local Fine‑Tuning • Local Inference</text>

  <!-- DGX NODES -->
  <rect x="150" y="485" width="220" height="60"/>
  <text x="260" y="515" text-anchor="middle" font-weight="bold">Primary DGX Node</text>
  <text x="260" y="528" text-anchor="middle">Compute + Storage + Model Serving</text>

  <rect x="410" y="485" width="220" height="60"/>
  <text x="520" y="515" text-anchor="middle" font-weight="bold">Standby DGX Node</text>
  <text x="520" y="528" text-anchor="middle">Hot Failover • High Availability</text>

  <!-- Dockerized Containers -->
  <rect x="150" y="560" width="220" height="60"/>
  <text x="260" y="590" text-anchor="middle" font-weight="bold">Dockerized Containers with Models</text>
  <text x="260" y="605" text-anchor="middle">GPU scheduling • Isolation • Autoscaling</text>

  <!-- Model Ops -->
  <rect x="410" y="560" width="220" height="60"/>
  <text x="520" y="590" text-anchor="middle" font-weight="bold">Model Ops Layer</text>
  <text x="520" y="605" text-anchor="middle">Versioning • Drift Detection • Rollbacks</text>

  <!-- Arrows from DGX down to agents -->
  <line x1="260" y1="620" x2="260" y2="660" stroke="black" stroke-width="1.2" marker-end="url(#arrow)"/>
  <line x1="520" y1="620" x2="520" y2="660" stroke="black" stroke-width="1.2" marker-end="url(#arrow)"/>

  <!-- AGENT LAYER --------------------------------------------------------------->
  <rect x="120" y="660" width="540" height="170"/>
  <text x="390" y="690" text-anchor="middle" font-weight="bold">AI Agent Services (All Local, Fine‑Tuned, On‑Prem)</text>

  <!-- OCR -->
  <rect x="150" y="715" width="150" height="70"/>
  <text x="225" y="745" text-anchor="middle" font-weight="bold">OCR Agent</text>
  <text x="225" y="760" text-anchor="middle">Docs → Structured Data</text>

  <!-- Fraud -->
  <rect x="320" y="715" width="150" height="70"/>
  <text x="395" y="745" text-anchor="middle" font-weight="bold">Fraud Detection</text>
  <text x="395" y="760" text-anchor="middle">Neural Scoring Engine</text>

  <!-- RAG -->
  <rect x="490" y="715" width="150" height="70"/>
  <text x="565" y="740" text-anchor="middle" font-weight="bold">RAG Chatbots</text>
  <text x="565" y="757" text-anchor="middle">Grounded Answers</text>

  <!-- Arrow to Data -->
  <line x1="390" y1="830" x2="390" y2="870" stroke="black" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- DATA LAYER --------------------------------------------------------------->
  <rect x="170" y="870" width="440" height="110"/>
  <text x="390" y="900" text-anchor="middle" font-weight="bold">Bank Data Layer (Outside Metis)</text>
  <text x="390" y="920" text-anchor="middle">Secure Data Lake • Transaction DBs • Document Stores</text>

  <!-- Arrow definition -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="6" refY="3" orient="auto">
      <polygon points="0 0, 6 3, 0 6" fill="black"/>
    </marker>
  </defs>

</svg>
</div>

</body>
</html>